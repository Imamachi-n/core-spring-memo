(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{165:function(t,s,a){"use strict";a.r(s);var n=a(0),e=Object(n.a)({},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"content"},[t._m(0),t._m(1),t._m(2),t._m(3),t._m(4),t._m(5),t._m(6),t._m(7),t._m(8),a("p",[t._v("特徴としては、")]),t._m(9),t._m(10),a("p",[a("a",{attrs:{href:"https://qiita.com/TakahiRoyte/items/949f4e88caecb02119aa",target:"_blank",rel:"noopener noreferrer"}},[t._v("REST入門 基礎知識"),a("OutboundLink")],1)]),t._m(11),t._m(12),t._m(13),t._m(14),t._m(15),t._m(16),t._m(17),t._m(18),a("p",[t._v("REST API用に使われるステータスコード")]),t._m(19),t._m(20),t._m(21),a("p",[t._v("Request")]),t._m(22),a("p",[t._v("Response")]),t._m(23),t._m(24),t._m(25),a("p",[t._v("以下に例を示す。")]),t._m(26),t._m(27),t._m(28),t._m(29),t._m(30),t._m(31),a("p",[t._v("代表的なアノテーションを以下に示す。")]),t._m(32),t._m(33),a("p",[t._v("Responseとして、JSONやXML形式のデータを返すことを想定した場合、Javaオブジェクトを特定のデータ形式に変換しないといけない。")]),t._m(34),a("p",[t._v("特定のデータ形式への変換はサードパーティ製のライブラリに依存しており、JSONならJacksonライブラリを内部で利用している。")]),t._m(35),t._m(36),t._m(37),t._m(38),a("p",[t._v("HTTP GETメソッドを用いて、AcceptヘッダーにJSONを指定した場合、Spring側で何の形式のデータでレスポンスを返せばよいか認識してくれる。")]),t._m(39),a("p",[t._v("結果として、レスポンスとして以下を返す。")]),t._m(40),t._m(41),t._m(42),t._m(43),t._m(44),t._m(45),t._m(46),t._m(47),t._m(48),t._m(49),a("p",[t._v("Spring側でヘッダの情報をいろいろと加工できる（便利）。")]),a("p",[t._v("以下に簡単な例を示す。")]),t._m(50),t._m(51),t._m(52),t._m(53),t._m(54),a("p",[t._v("Request")]),t._m(55),a("p",[t._v("Response（空のレスポンス）")]),t._m(56),t._m(57),t._m(58),t._m(59),t._m(60),t._m(61),t._m(62),t._m(63),t._m(64),t._m(65),t._m(66),t._m(67),t._m(68),t._m(69),t._m(70),t._m(71)])},[function(){var t=this.$createElement,s=this._self._c||t;return s("h1",{attrs:{id:"rest"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#rest","aria-hidden":"true"}},[this._v("#")]),this._v(" REST")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"restとは"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#restとは","aria-hidden":"true"}},[this._v("#")]),this._v(" RESTとは?")])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("REpresentational State Transferの略。")]),s("li",[this._v("簡単に言うと、ServletクラスがレンダリングしたHTMLを返す代わりに、URLに対応付けされたデータを返すための設計原則。")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"restfulの意味"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#restfulの意味","aria-hidden":"true"}},[this._v("#")]),this._v(" RESTfulの意味")])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("アドレス指定可能なURLで公開されていること")]),s("li",[this._v("インターフェース（HTTPメソッドの利用）が統一されること")]),s("li",[this._v("クライアントがJSONやXMLなどの特定のリソースをリクエストできる（URLとリソースのヒモ付ができている）")]),s("li",[this._v("ステートレスであること（サーバがセッション情報を保持しない、GETがURLでキャッシュ）")]),s("li",[this._v("処理結果がHTTPステータスコードで通知されること")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"restfulであるメリット"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#restfulであるメリット","aria-hidden":"true"}},[this._v("#")]),this._v(" RESTfulであるメリット")])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("クライアントのリクエストはリソース操作に必要な情報だけをやり取りする")]),s("li",[this._v("クライアントとサーバの両者を疎結合化できる")]),s("li",[this._v("クライアントの多様化（ブラウザ、アプリ、データ連携用サーバなど）に対応")]),s("li",[this._v("スケーラブルなシステムにしやすい")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"spring-rest"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#spring-rest","aria-hidden":"true"}},[this._v("#")]),this._v(" Spring REST")])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("Spring MVCがREST APIの実装をサポートしている。")]),s("li",[this._v("JAX-RSを実装したものではない。")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("HTTPメソッド（GET, POST, PUT, DELETEなど）に基づいてリクエストを特定のメソッドと紐付ける。")]),s("li",[this._v("レスポンスステータスを定義する。")]),s("li",[this._v("メッセージコンバータ（JavaオブジェクトをJSONやXML形式のデータに変換）を提供")]),s("li",[this._v("RequestとResponseボディデータにアクセスする。")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"参考"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#参考","aria-hidden":"true"}},[this._v("#")]),this._v(" 参考")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"restはステートレス（stateless）"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#restはステートレス（stateless）","aria-hidden":"true"}},[this._v("#")]),this._v(" RESTはステートレス（stateless）")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("REST APIでのやり取りでは、状態を持たない（Stateless）。"),s("br"),this._v("\nそのため、Sessionの管理を行うことができない。\n代わりに、RedisなどのKVSを用いたDBを利用してログイン情報やカート情報などを保持しておく。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"restで使われるhttpメソッド"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#restで使われるhttpメソッド","aria-hidden":"true"}},[this._v("#")]),this._v(" RESTで使われるHTTPメソッド")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("table",[a("thead",[a("tr",[a("th",[t._v("メソッド")]),a("th",{staticStyle:{"text-align":"center"}},[t._v("説明")])])]),a("tbody",[a("tr",[a("td",[t._v("GET")]),a("td",{staticStyle:{"text-align":"center"}},[t._v("検索")])]),a("tr",[a("td",[t._v("PUT")]),a("td",{staticStyle:{"text-align":"center"}},[t._v("更新")])]),a("tr",[a("td",[t._v("POST")]),a("td",{staticStyle:{"text-align":"center"}},[t._v("追加")])]),a("tr",[a("td",[t._v("DELETE")]),a("td",{staticStyle:{"text-align":"center"}},[t._v("削除")])])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"rest-apiにおけるauthentication"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#rest-apiにおけるauthentication","aria-hidden":"true"}},[this._v("#")]),this._v(" REST APIにおけるAuthentication")])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("BASIC")]),s("li",[this._v("OAuth2 (認可)")]),s("li",[this._v("独自のトークン")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"サポートされているhttp-status-code"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#サポートされているhttp-status-code","aria-hidden":"true"}},[this._v("#")]),this._v(" サポートされているHTTP Status Code")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("table",[a("thead",[a("tr",[a("th",[t._v("ステータス")]),a("th",[t._v("コード")])])]),a("tbody",[a("tr",[a("td",[t._v("Success")]),a("td",[t._v("200 OK")])]),a("tr",[a("td",[t._v("Redirect")]),a("td",[t._v("30x for Redirects")])]),a("tr",[a("td",[t._v("Client Error (Invalid URL)")]),a("td",[t._v("404 Not Found")])]),a("tr",[a("td",[t._v("Server Error")]),a("td",[t._v("500 (such as unhandled Exceptions)")])])])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("table",[a("thead",[a("tr",[a("th",[t._v("ステータス")]),a("th",[t._v("コード")])])]),a("tbody",[a("tr",[a("td",[t._v("Created Successfully")]),a("td",[t._v("201")])]),a("tr",[a("td",[t._v("Client Error")]),a("td",[t._v("400")])]),a("tr",[a("td",[t._v("HTTP method not supported")]),a("td",[t._v("405")])]),a("tr",[a("td",[t._v("Cannot generate requested response body format")]),a("td",[t._v("406")])]),a("tr",[a("td",[t._v("Request body not supported")]),a("td",[t._v("415")])])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"http-getメソッド：リソースのフェッチ"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#http-getメソッド：リソースのフェッチ","aria-hidden":"true"}},[this._v("#")]),this._v(" HTTP GETメソッド：リソースのフェッチ")])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("HTTPレスポンスとしてリクエストされたデータを返す")]),s("li",[this._v("レスポンス用のデータのフォーマットを定義する")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language- extra-class"},[s("div",{staticClass:"highlight-lines"},[s("br"),s("div",{staticClass:"highlighted"},[this._v(" ")]),s("br"),s("br")]),s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[this._v("GET /store/orders/123\nHost: shop.spring.io\nAccept: application/json, ...\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language- extra-class"},[s("div",{staticClass:"highlight-lines"},[s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("div",{staticClass:"highlighted"},[this._v(" ")]),s("div",{staticClass:"highlighted"},[this._v(" ")]),s("div",{staticClass:"highlighted"},[this._v(" ")]),s("br"),s("br")]),s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[this._v('HTTP/1.1 200 OK\nDate: …\nContent-Length: 756\nContent-Type: application/json\n\n{\n"id": 123,\n"total": 200.00,\n"items": [ … ]\n}\n')])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"httpメソッドに基づくrequest-mapping"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#httpメソッドに基づくrequest-mapping","aria-hidden":"true"}},[this._v("#")]),this._v(" HTTPメソッドに基づくRequest Mapping")])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("同じURLに対して単一もしくは複数のJavaのメソッドをマッピングすることができる")]),s("li",[s("code",[this._v("@RequestMapping")]),this._v("を使った場合、RequestMethodをエミュレートする仕組みが用意されている")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{attrs:{class:"token comment"}},[t._v("// Get all orders (for current user typically)")]),t._v("\n"),a("span",{attrs:{class:"token annotation punctuation"}},[t._v("@RequestMapping")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("path"),a("span",{attrs:{class:"token operator"}},[t._v("=")]),a("span",{attrs:{class:"token string"}},[t._v('"/orders"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" method"),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v("RequestMethod"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("GET"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),a("span",{attrs:{class:"token comment"}},[t._v("// Create a new order")]),t._v("\n"),a("span",{attrs:{class:"token annotation punctuation"}},[t._v("@RequestMapping")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("path"),a("span",{attrs:{class:"token operator"}},[t._v("=")]),a("span",{attrs:{class:"token string"}},[t._v('"/orders"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" method"),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v("RequestMethod"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("POST"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"メソッドごとのmappingアノテーション"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#メソッドごとのmappingアノテーション","aria-hidden":"true"}},[this._v("#")]),this._v(" メソッドごとのMappingアノテーション")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("code",[this._v("@RequestMapping")]),this._v("アノテーションを用いて以下のように設定していた内容を、")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{attrs:{class:"token annotation punctuation"}},[t._v("@RequestMapping")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("path"),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v('"'),a("span",{attrs:{class:"token operator"}},[t._v("/")]),t._v("accounts”"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" method"),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v("RequestMethod"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("GET"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("以下のように"),s("code",[this._v("@GetMapping")]),this._v("アノテーションを用いて簡略化して書くこともできる。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[s("span",{attrs:{class:"token annotation punctuation"}},[this._v("@GetMapping")]),s("span",{attrs:{class:"token punctuation"}},[this._v("(")]),s("span",{attrs:{class:"token string"}},[this._v('"/accounts"')]),s("span",{attrs:{class:"token punctuation"}},[this._v(")")]),s("span",{attrs:{class:"token punctuation"}},[this._v(";")]),this._v("\n")])])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{attrs:{class:"token operator"}},[t._v("-")]),t._v(" "),a("span",{attrs:{class:"token annotation punctuation"}},[t._v("@GetMapping")]),t._v("\n"),a("span",{attrs:{class:"token operator"}},[t._v("-")]),t._v(" "),a("span",{attrs:{class:"token annotation punctuation"}},[t._v("@PostMapping")]),t._v("\n"),a("span",{attrs:{class:"token operator"}},[t._v("-")]),t._v(" "),a("span",{attrs:{class:"token annotation punctuation"}},[t._v("@PutMapping")]),t._v("\n"),a("span",{attrs:{class:"token operator"}},[t._v("-")]),t._v(" "),a("span",{attrs:{class:"token annotation punctuation"}},[t._v("@DeleteMapping")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"メッセージコンバータ"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#メッセージコンバータ","aria-hidden":"true"}},[this._v("#")]),this._v(" メッセージコンバータ")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("そこで、Spring側でメッセージコンバータ（"),s("code",[this._v("HttpMessageConverter")]),this._v("）が用意されており、Modelクラスのインスタンスを特定のデータ形式に変換してくれる（Response Headerを付けて返す）。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("また、Spring Bootでは自動で設定されているので特に意識する必要はない。Spring Frameworkの場合、"),s("code",[this._v("@EnableWebMvc")]),this._v("アノテーションを設定する必要がある。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"responsebody"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#responsebody","aria-hidden":"true"}},[this._v("#")]),this._v(" @ResponseBody")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("以下のように、レスポンスを返すメソッドに"),s("code",[this._v("@ResponseBody")]),this._v("アノテーションをつける。")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{attrs:{class:"token annotation punctuation"}},[t._v("@GetMapping")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v('"/orders/{id}"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{attrs:{class:"token annotation punctuation"}},[t._v("@ResponseBody")]),t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("public")]),t._v(" Order "),a("span",{attrs:{class:"token function"}},[t._v("getOrder")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token annotation punctuation"}},[t._v("@PathVariable")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v('"id"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("long")]),t._v(" id"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{attrs:{class:"token keyword"}},[t._v("return")]),t._v(" orderService"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("findOrderById")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("id"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language- extra-class"},[s("div",{staticClass:"highlight-lines"},[s("br"),s("br"),s("div",{staticClass:"highlighted"},[this._v(" ")]),s("br")]),s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[this._v("GET /store/orders/123\nHost: shop.spring.io\nAccept: application/json\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language- extra-class"},[s("div",{staticClass:"highlight-lines"},[s("br"),s("br"),s("br"),s("br"),s("br"),s("div",{staticClass:"highlighted"},[this._v(" ")]),s("div",{staticClass:"highlighted"},[this._v(" ")]),s("div",{staticClass:"highlighted"},[this._v(" ")]),s("br"),s("br")]),s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[this._v('HTTP/1.1 200 OK\nDate: …\nContent-Length: 756\nContent-Type: application/json\n{\n"id": 123,\n"total": 200.00,\n"items": [ … ]\n}\n')])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"rest-api用のcontrollerクラスの設定"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#rest-api用のcontrollerクラスの設定","aria-hidden":"true"}},[this._v("#")]),this._v(" REST API用のControllerクラスの設定")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("今までのやり方だと、"),s("code",[this._v("@Controller")]),this._v("アノテーションをつけたControllerクラスにレスポンスボディを返すメソッド（"),s("code",[this._v("@ResponseBody")]),this._v("）を設定していた。")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{attrs:{class:"token annotation punctuation"}},[t._v("@Controller")]),t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{attrs:{class:"token class-name"}},[t._v("OrderController")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\n    "),a("span",{attrs:{class:"token annotation punctuation"}},[t._v("@GetMapping")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v('"/orders/{id}"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{attrs:{class:"token annotation punctuation"}},[t._v("@ResponseBody")]),t._v("\n    "),a("span",{attrs:{class:"token keyword"}},[t._v("public")]),t._v(" Order "),a("span",{attrs:{class:"token function"}},[t._v("getOrder")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token annotation punctuation"}},[t._v("@PathVariable")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("long")]),t._v(" id"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{attrs:{class:"token keyword"}},[t._v("return")]),t._v(" orderService"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("findOrderById")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("id"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("実は、Spring側でREST API用のControllerクラスを定義するためのアノテーションが用意されている。それが"),s("code",[this._v("@RestController")]),this._v("アノテーションである。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"restcontroller"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#restcontroller","aria-hidden":"true"}},[this._v("#")]),this._v(" @RestController")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{attrs:{class:"token annotation punctuation"}},[t._v("@RestController")]),t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{attrs:{class:"token class-name"}},[t._v("OrderController")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    \n    "),a("span",{attrs:{class:"token annotation punctuation"}},[t._v("@GetMapping")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v('"/orders/{id}"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{attrs:{class:"token keyword"}},[t._v("public")]),t._v(" Order "),a("span",{attrs:{class:"token function"}},[t._v("getOrder")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token annotation punctuation"}},[t._v("@PathVariable")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("long")]),t._v(" id"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{attrs:{class:"token keyword"}},[t._v("return")]),t._v(" orderService"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("findOrderById")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("id"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("code",[this._v("@RestController")]),this._v("アノテーションをつけると、すべてのメソッドに"),s("code",[this._v("@ResponseBody")]),this._v("アノテーションをつけたのと同義となる。そのため、それぞれのメソッドに"),s("code",[this._v("@ReponseBody")]),this._v("を付ける手間が省ける。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("code",[this._v("@RestController")]),this._v("は"),s("code",[this._v("@Controller")]),this._v("のステレオタイプアノテーションといえる。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"レスポンスヘッダーを独自に記述する"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#レスポンスヘッダーを独自に記述する","aria-hidden":"true"}},[this._v("#")]),this._v(" レスポンスヘッダーを独自に記述する")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{attrs:{class:"token comment"}},[t._v('// ResponseEntity supports a "fluent" API for creating a')]),t._v("\n"),a("span",{attrs:{class:"token comment"}},[t._v("// response. Used to initialize the HttpServletResponse")]),t._v("\nResponseEntity"),a("span",{attrs:{class:"token generics function"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("String"),a("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" response "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v("\n    ResponseEntity"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("ok")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("     "),a("span",{attrs:{class:"token comment"}},[t._v("// HTTP Status 200 OK")]),t._v("\n                  "),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("contentType")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("MediaType"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("TEXT_PLAIN"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n                  "),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("body")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v('"Hello Spring"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("レスポンスを作るために"),s("code",[this._v("HttpEntity")]),this._v("を使うことができる"),s("br"),s("code",[this._v("HttpServletResponse")]),this._v("は使わないこと。テストがしにくくなる。")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{attrs:{class:"token annotation punctuation"}},[t._v("@GetMapping")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v('"/orders/{id}"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("public")]),t._v(" HttpEntity"),a("span",{attrs:{class:"token generics function"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("Order"),a("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" "),a("span",{attrs:{class:"token function"}},[t._v("getOrder")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token annotation punctuation"}},[t._v("@PathVariable")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("long")]),t._v(" id"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    Order order "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" orderService"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("find")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("id"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{attrs:{class:"token keyword"}},[t._v("return")]),t._v(" ResponseEntity\n            "),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("ok")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("                                            "),a("span",{attrs:{class:"token comment"}},[t._v("// HTTP Status 200 OK")]),t._v("\n            "),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("header")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v('"Last-Modified"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" order"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("lastUpdated")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("    "),a("span",{attrs:{class:"token comment"}},[t._v("// カスタムヘッダーを設定")]),t._v("\n            "),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("body")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("order"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("                                    "),a("span",{attrs:{class:"token comment"}},[t._v("// レスポンスボディ")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"http-putメソッド-リソースのアップデート"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#http-putメソッド-リソースのアップデート","aria-hidden":"true"}},[this._v("#")]),this._v(" HTTP PUTメソッド: リソースのアップデート")])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("HTTP Requestでデータにアクセスする")]),s("li",[this._v("空のレスポンスを返す（HTTP Statusは204）。")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[this._v('PUT /store/orders/123/items/abc\nHost: www.mybank.com\nContent-Type: application/json\n{\n    "id": abc,\n    "cost": 35.00,\n    "product": SKU1234, ...\n}\n')])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[this._v("HTTP/1.1 204 No Content\nDate: …\nContent-Length: 0\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"任意のステータスコードをレスポンスとして返す"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#任意のステータスコードをレスポンスとして返す","aria-hidden":"true"}},[this._v("#")]),this._v(" 任意のステータスコードをレスポンスとして返す")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("任意のステータスコードを返すために、RestControllerクラス内で定義したメソッドに、"),s("code",[this._v("@ResponeseStatus")]),this._v("アノテーションを付けて、返したいステータスコードを指定する。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("以下の例では、204のステータスコードを指定している。\nHTTP PUTメソッドの場合、空のレスポンスを返すため、戻り値の型は\n"),s("code",[this._v("void")]),this._v("にしておく。")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{attrs:{class:"token annotation punctuation"}},[t._v("@PutMapping")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v('"/orders/{id}"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{attrs:{class:"token annotation punctuation"}},[t._v("@ResponseStatus")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("HttpStatus"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("NO_CONTENT"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token comment"}},[t._v("// 204")]),t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),a("span",{attrs:{class:"token function"}},[t._v("updateOrder")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{attrs:{class:"token comment"}},[t._v("// Update order")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"受け取ったリクエストデータをメッセージコンバータを用いてjavaオブジェクトに格納する"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#受け取ったリクエストデータをメッセージコンバータを用いてjavaオブジェクトに格納する","aria-hidden":"true"}},[this._v("#")]),this._v(" 受け取ったリクエストデータをメッセージコンバータを用いてJavaオブジェクトに格納する")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{attrs:{class:"token annotation punctuation"}},[t._v("@PutMapping")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v('"/orders/{id}"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{attrs:{class:"token annotation punctuation"}},[t._v("@ResponseStatus")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("HttpStatus"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("NO_CONTENT"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token comment"}},[t._v("// 204")]),t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),a("span",{attrs:{class:"token function"}},[t._v("updateOrder")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token annotation punctuation"}},[t._v("@RequestBody")]),t._v(" Order updatedOrder"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                        "),a("span",{attrs:{class:"token annotation punctuation"}},[t._v("@PathVariable")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v('"id"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("long")]),t._v(" id"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{attrs:{class:"token comment"}},[t._v("// process updated order data and return empty response")]),t._v("\n    orderManager"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("updateOrder")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("id"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" updatedOrder"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"what-does-pathvariable-do"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#what-does-pathvariable-do","aria-hidden":"true"}},[this._v("#")]),this._v(" What does @PathVariable do?")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"what-are-the-http-status-return-codes-for-a-successful-get-post-put-or-delete-operation"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#what-are-the-http-status-return-codes-for-a-successful-get-post-put-or-delete-operation","aria-hidden":"true"}},[this._v("#")]),this._v(" What are the HTTP status return codes for a successful GET, POST, PUT or DELETE operation?")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"if-you-saw-example-controller-code-would-you-understand-what-it-is-doing-could-you-tell-if-it-was-annotated-correctly"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#if-you-saw-example-controller-code-would-you-understand-what-it-is-doing-could-you-tell-if-it-was-annotated-correctly","aria-hidden":"true"}},[this._v("#")]),this._v(" If you saw example Controller code, would you understand what it is doing? Could you tell if it was annotated correctly?")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"do-you-need-spring-mvc-in-your-classpath"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#do-you-need-spring-mvc-in-your-classpath","aria-hidden":"true"}},[this._v("#")]),this._v(" Do you need Spring MVC in your classpath?")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"what-spring-boot-starter-would-you-use-for-a-spring-rest-application"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#what-spring-boot-starter-would-you-use-for-a-spring-rest-application","aria-hidden":"true"}},[this._v("#")]),this._v(" What Spring Boot starter would you use for a Spring REST application?")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"what-are-the-advantages-of-the-resttemplate"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#what-are-the-advantages-of-the-resttemplate","aria-hidden":"true"}},[this._v("#")]),this._v(" What are the advantages of the RestTemplate?")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"if-you-saw-an-example-using-resttemplate-would-you-understand-what-it-is-doing"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#if-you-saw-an-example-using-resttemplate-would-you-understand-what-it-is-doing","aria-hidden":"true"}},[this._v("#")]),this._v(" If you saw an example using RestTemplate would you understand what it is doing?")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"wip-積み残し課題"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#wip-積み残し課題","aria-hidden":"true"}},[this._v("#")]),this._v(" [WIP] 積み残し課題")])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("What does CRUD mean?")]),s("li",[this._v("Is REST secure? What can you do to secure it?")]),s("li",[this._v("What are safe REST operations?")]),s("li",[this._v("What are idempotent operations? Why is idempotency important?")]),s("li",[this._v("What is a stereotype annotation? What does that mean?")]),s("li")])}],!1,null,null,null);s.default=e.exports}}]);