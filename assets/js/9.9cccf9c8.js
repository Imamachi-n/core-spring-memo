(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{153:function(t,s,a){t.exports=a.p+"assets/img/C004_5_Front_controller.f27933ec.png"},154:function(t,s,a){t.exports=a.p+"assets/img/C003_5_Dispatcher_servlet.e7a2f31a.png"},155:function(t,s,a){t.exports=a.p+"assets/img/C005_5_WebApplicationContext.31e00080.png"},162:function(t,s,a){"use strict";a.r(s);var n=[function(){var t=this.$createElement,s=this._self._c||t;return s("h1",{attrs:{id:"spring-mvc-and-the-web-layer"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#spring-mvc-and-the-web-layer","aria-hidden":"true"}},[this._v("#")]),this._v(" Spring MVC and the Web Layer")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"spring-mvcについて"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#spring-mvcについて","aria-hidden":"true"}},[this._v("#")]),this._v(" Spring MVCについて")])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("MVCとは、"),s("code",[this._v("Model/View/Controller")]),this._v("の略。")]),s("li",[this._v("Spring MVCは、Controllerの部分のみを提供している。")]),s("li",[this._v("Front controllerパターンを採用している。")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"spring-mvcの特徴"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#spring-mvcの特徴","aria-hidden":"true"}},[this._v("#")]),this._v(" Spring MVCの特徴")])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("POJOプログラミング")]),s("li",[this._v("Testしやすい（Testable）")]),s("li",[this._v("設定にはJava Configを利用")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"view部分の実装"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#view部分の実装","aria-hidden":"true"}},[this._v("#")]),this._v(" View部分の実装")])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("Thymeleaf")]),s("li",[this._v("FreeMarker")]),s("li",[this._v("JSP")]),s("li",[this._v("PDF")]),s("li",[this._v("Excel")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"dispatcherservletとは"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#dispatcherservletとは","aria-hidden":"true"}},[this._v("#")]),this._v(" DispatcherServletとは")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("img",{attrs:{src:a(153),alt:"C004_5_Front_controller.png"}})])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("img",{attrs:{src:a(154),alt:"C003_5_Dispatcher_servlet.png"}})])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"web-application-contextとdispatcherservlet"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#web-application-contextとdispatcherservlet","aria-hidden":"true"}},[this._v("#")]),this._v(" web application contextとDispatcherServlet")])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("Requestスコープ")]),s("li",[this._v("Sessionスコープ")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("img",{attrs:{src:a(155),alt:"C005_5_WebApplicationContext.png"}})])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"参考"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#参考","aria-hidden":"true"}},[this._v("#")]),this._v(" 参考")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"controllerクラスの定義"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#controllerクラスの定義","aria-hidden":"true"}},[this._v("#")]),this._v(" Controllerクラスの定義")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"controllerと-getmapping-requestmappingの仲間"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#controllerと-getmapping-requestmappingの仲間","aria-hidden":"true"}},[this._v("#")]),this._v(" @Controllerと@GetMapping(@RequestMappingの仲間)")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("Controllerクラスに、"),s("code",[this._v("@Controller")]),this._v("アノテーションをつける。"),s("br"),this._v("\n特定のURLでHTTP GET Requestが送られてきたときに、処理を受け渡すメソッドに対して"),s("code",[this._v("@GetMapping")]),this._v("アノテーションをつける（URLと処理（メソッド）の紐づけ）。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("このとき、完全なパスが"),s("code",[this._v("http://localhost:8080/listAccounts")]),this._v("だったとすると、論理パスである"),s("code",[this._v("/listAccounts")]),this._v("を"),s("code",[this._v("@GetMapping")]),this._v("で定義する。")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{attrs:{class:"token annotation punctuation"}},[t._v("@Controller")]),t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{attrs:{class:"token class-name"}},[t._v("AccountController")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{attrs:{class:"token annotation punctuation"}},[t._v("@GetMapping")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v('"/listAccounts"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{attrs:{class:"token keyword"}},[t._v("public")]),t._v(" String "),a("span",{attrs:{class:"token function"}},[t._v("list")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Model model"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("論理パスには、ワイルドカードをつけてURLを指定することもできる。"),s("br"),this._v("\n以下にURLの例をいくつか示す。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[this._v("– /accounts\n– /accounts/edit\n– /editAccount\n– /accounts/*\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("デフォルトでは、"),s("code",[this._v(".html")]),this._v("のようなSuffixは無視される。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[this._v("– /listAccounts.html\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"requestmappingとは"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#requestmappingとは","aria-hidden":"true"}},[this._v("#")]),this._v(" @RequestMappingとは")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("Spring v4.3以降では、GET、POST、PUT、DELETEの役割を持つ"),s("code",[this._v("@RequestMapping")]),this._v("の代替となるアノテーションが追加された。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[this._v("– @GetMapping\n– @PostMapping\n– @PutMapping\n– @DeleteMapping\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"tip custom-block"},[s("p",{staticClass:"custom-block-title"},[this._v("推奨")]),s("p",[this._v("基本的に上記の４つを使ってURLと処理（メソッド）の紐づけをControllerクラス内で行う。")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"requestパラメータの取得"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#requestパラメータの取得","aria-hidden":"true"}},[this._v("#")]),this._v(" Requestパラメータの取得")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"requestparam"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#requestparam","aria-hidden":"true"}},[this._v("#")]),this._v(" @RequestParam")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("code",[this._v("@RequestParam")]),this._v("アノテーションでRequestパラメータを引数として取得する。\n以下の例は、"),s("code",[this._v("http://localhost:8080/showAccount.htm?entityId=123")]),this._v("をRequestとして受け取った例。引数のidには"),s("code",[this._v("123")]),this._v("が格納される。")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{attrs:{class:"token annotation punctuation"}},[t._v("@Controller")]),t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{attrs:{class:"token class-name"}},[t._v("AccountController")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{attrs:{class:"token annotation punctuation"}},[t._v("@GetMapping")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v('"/showAccount"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{attrs:{class:"token keyword"}},[t._v("public")]),t._v(" String "),a("span",{attrs:{class:"token function"}},[t._v("show")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token annotation punctuation"}},[t._v("@RequestParam")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v('"entityId"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("long")]),t._v(" id"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" Model model"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        … "),a("span",{attrs:{class:"token comment"}},[t._v("// 何らかの処理")]),t._v("\n    "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"urlの一部を引数に取る"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#urlの一部を引数に取る","aria-hidden":"true"}},[this._v("#")]),this._v(" URLの一部を引数に取る")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"pathvariable"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#pathvariable","aria-hidden":"true"}},[this._v("#")]),this._v(" @PathVariable")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("code",[this._v("@PathVariable")]),this._v("アノテーションでURLの一部を引数に取ることができる。"),s("br"),this._v("\n以下の例は、"),s("code",[this._v("http://localhost:8080/accounts/123")]),this._v("をRequestとして受け取った例。引数のidには"),s("code",[this._v("123")]),this._v("が格納される。")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{attrs:{class:"token annotation punctuation"}},[t._v("@Controller")]),t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{attrs:{class:"token class-name"}},[t._v("AccountController")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{attrs:{class:"token annotation punctuation"}},[t._v("@GetMapping")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v('"/accounts/{accountId}"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{attrs:{class:"token keyword"}},[t._v("public")]),t._v(" String "),a("span",{attrs:{class:"token function"}},[t._v("show")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token annotation punctuation"}},[t._v("@PathVariable")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v('"accountId"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("long")]),t._v(" id"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" Model model"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        … "),a("span",{attrs:{class:"token comment"}},[t._v("// 何らかの処理")]),t._v("\n    "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"もっとシンプルに書く"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#もっとシンプルに書く","aria-hidden":"true"}},[this._v("#")]),this._v(" もっとシンプルに書く")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("URLの"),s("code",[this._v("{accountId}")]),this._v("と引数の"),s("code",[this._v("accountId")]),this._v("の名称を一致させることで、以下のようにも記述できる。こちらのほうがシンプル。")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{attrs:{class:"token annotation punctuation"}},[t._v("@GetMapping")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v('"/accounts/{accountId}"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("public")]),t._v(" String "),a("span",{attrs:{class:"token function"}},[t._v("show")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token annotation punctuation"}},[t._v("@PathVariable")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("long")]),t._v(" accountId"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" Model model"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[this._v("javac -parameters\n")])])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("p",[t._v("と"),a("code",[t._v("-parameters")]),t._v("を付ける必要がある(JDK 8+が条件)。"),a("br"),t._v("\nJavaはデフォルト設定でコンパイルすると、引数が"),a("code",[t._v("var1")]),t._v("、"),a("code",[t._v("var2")]),t._v("のような適当な変数名に置換されてしまうため、上記で説明した方法がうまく動かない。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"requestparamと-pathvariableの違い"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#requestparamと-pathvariableの違い","aria-hidden":"true"}},[this._v("#")]),this._v(" @RequestParamと@PathVariableの違い")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("パラメータとして値を渡すか、URLの一部に値を組み込んで渡すかの違い。"),s("br"),this._v("\nリクエストパラメータに特定の値をもたせるよりも、パスに特定の値をもたせたほうがシンプル。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"requestparamと-pathvariableの事例"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#requestparamと-pathvariableの事例","aria-hidden":"true"}},[this._v("#")]),this._v(" @RequestParamと@PathVariableの事例")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"http-localhost-8080-accounts"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#http-localhost-8080-accounts","aria-hidden":"true"}},[this._v("#")]),this._v(" http://localhost:8080/accounts")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{attrs:{class:"token annotation punctuation"}},[t._v("@GetMapping")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v('"/accounts"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("public")]),t._v(" String "),a("span",{attrs:{class:"token function"}},[t._v("show")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("HttpServletRequest request"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" Model model"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"http-orders-1234-items-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#http-orders-1234-items-2","aria-hidden":"true"}},[this._v("#")]),this._v(" http://.../orders/1234/items/2")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{attrs:{class:"token annotation punctuation"}},[t._v("@GetMapping")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v('"/orders/{id}/items/{itemId}"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("public")]),t._v(" String "),a("span",{attrs:{class:"token function"}},[t._v("show")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token annotation punctuation"}},[t._v("@PathVariable")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("“id”"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" Long orderId"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                   "),a("span",{attrs:{class:"token annotation punctuation"}},[t._v("@PathVariable")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("int")]),t._v(" itemId"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                   Model model"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" Locale locale"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                   "),a("span",{attrs:{class:"token annotation punctuation"}},[t._v("@RequestHeader")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("“user"),a("span",{attrs:{class:"token operator"}},[t._v("-")]),t._v("agent”"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" String agent "),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"http-orders-orderid-1234-item-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#http-orders-orderid-1234-item-2","aria-hidden":"true"}},[this._v("#")]),this._v(" http://.../orders?orderId=1234&item=2")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{attrs:{class:"token annotation punctuation"}},[t._v("@GetMapping")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v('"/orders"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("public")]),t._v(" String "),a("span",{attrs:{class:"token function"}},[t._v("show")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token annotation punctuation"}},[t._v("@RequestParam")]),t._v(" Long orderId"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                   "),a("span",{attrs:{class:"token annotation punctuation"}},[t._v("@RequestParam")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("“item”"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("int")]),t._v(" itemId"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                   Principal user"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" Map"),a("span",{attrs:{class:"token generics function"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("String"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("Object"),a("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" model"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                   HttpSession session "),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"viewとしてサポートしているもの"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#viewとしてサポートしているもの","aria-hidden":"true"}},[this._v("#")]),this._v(" Viewとしてサポートしているもの")])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("Thymeleaf")]),s("li",[this._v("FreeMarker")]),s("li",[this._v("JSP")]),s("li",[this._v("PDF")]),s("li",[this._v("Excel")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("などなど。"),s("br"),this._v("\n基本的に、Spring MVCは上記のViewをサーバサイドレンダリングしている。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"tip custom-block"},[s("p",{staticClass:"custom-block-title"},[this._v("推奨")]),s("p",[this._v("Thymeleafが75%シェアでおすすめ。次に、FreeMarkerがよく使われている。")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"warning custom-block"},[s("p",{staticClass:"custom-block-title"},[this._v("警告")]),s("p",[this._v("JSPはクロスサイトスクリプティングの脆弱性を持つので、新規の開発では用いない。")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"viewresolver"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#viewresolver","aria-hidden":"true"}},[this._v("#")]),this._v(" ViewResolver")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("以下に、Mustacheを使った例を示す。"),s("br"),this._v("\nこのようにPrefixとSuffixを設定しておく。")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{attrs:{class:"token annotation punctuation"}},[t._v("@Bean")]),t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("public")]),t._v(" ViewResolver "),a("span",{attrs:{class:"token function"}},[t._v("resolver")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Compiler mustacheRuntime"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    MustacheViewResolver mvr "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{attrs:{class:"token class-name"}},[t._v("MustacheViewResolver")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    mvr"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("setPrefix "),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"classpath:/templates/"')]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    mvr"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("setSuffix "),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('".html"')]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{attrs:{class:"token keyword"}},[t._v("return")]),t._v(" mvr"),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[this._v("Prefix + @xxxMappingアノテーションの値 + Suffix\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"spring-bootの場合"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#spring-bootの場合","aria-hidden":"true"}},[this._v("#")]),this._v(" Spring Bootの場合")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("Spring Bootの場合、以下の例のように"),s("code",[this._v("application.properties")]),this._v("に定義しておく。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[this._v("spring.mustache.prefix=classpath:/templates/\nspring.mustache.suffix=.html\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"spring-bootでspring-mvcを使う場合"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#spring-bootでspring-mvcを使う場合","aria-hidden":"true"}},[this._v("#")]),this._v(" Spring BootでSpring MVCを使う場合")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"_1-pom-xmlの定義"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-pom-xmlの定義","aria-hidden":"true"}},[this._v("#")]),this._v(" 1. pom.xmlの定義")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-xml extra-class"},[a("pre",{pre:!0,attrs:{class:"language-xml"}},[a("code",[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("dependency")]),a("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("groupId")]),a("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("org.springframework.boot"),a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("</")]),t._v("groupId")]),a("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("artifactId")]),a("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("spring-boot-starter-web"),a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("</")]),t._v("artifactId")]),a("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("</")]),t._v("dependency")]),a("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-xml extra-class"},[a("pre",{pre:!0,attrs:{class:"language-xml"}},[a("code",[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("dependency")]),a("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("groupId")]),a("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("org.springframework.boot"),a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("</")]),t._v("groupId")]),a("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("artifactId")]),a("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("spring-boot-starter-web"),a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("</")]),t._v("artifactId")]),a("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("exclusions")]),a("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n        "),a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("exclusion")]),a("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n            "),a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("groupId")]),a("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("org.springframework.boot"),a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("</")]),t._v("groupId")]),a("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n            "),a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("artifactId")]),a("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("spring-boot-starter-tomcat"),a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("</")]),t._v("artifactId")]),a("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n        "),a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("</")]),t._v("exclusion")]),a("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("</")]),t._v("exclusions")]),a("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("</")]),t._v("dependency")]),a("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\n"),a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("dependency")]),a("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("groupId")]),a("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("org.springframework.boot"),a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("</")]),t._v("groupId")]),a("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("artifactId")]),a("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("spring-boot-starter-jetty"),a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("</")]),t._v("artifactId")]),a("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("</")]),t._v("dependency")]),a("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-xml extra-class"},[a("pre",{pre:!0,attrs:{class:"language-xml"}},[a("code",[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("build")]),a("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("plugins")]),a("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n        "),a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("plugin")]),a("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n            "),a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("groupId")]),a("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("org.springframework.boot"),a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("</")]),t._v("groupId")]),a("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n            "),a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("artifactId")]),a("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("spring-boot-maven-plugin"),a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("</")]),t._v("artifactId")]),a("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n        "),a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("</")]),t._v("plugin")]),a("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("</")]),t._v("plugins")]),a("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("</")]),t._v("build")]),a("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"_2-controllerクラスの設計"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-controllerクラスの設計","aria-hidden":"true"}},[this._v("#")]),this._v(" 2. Controllerクラスの設計")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{attrs:{class:"token annotation punctuation"}},[t._v("@Controller")]),t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{attrs:{class:"token class-name"}},[t._v("RewardController")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    \n    "),a("span",{attrs:{class:"token keyword"}},[t._v("private")]),t._v(" RewardLookupService lookupService"),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    \n    "),a("span",{attrs:{class:"token comment"}},[t._v("// ビジネスロジッククラスのインジェクション")]),t._v("\n    "),a("span",{attrs:{class:"token annotation punctuation"}},[t._v("@Autowired")]),t._v("\n    "),a("span",{attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{attrs:{class:"token function"}},[t._v("RewardController")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("RewardLookupService svc"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{attrs:{class:"token keyword"}},[t._v("this")]),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("lookupService "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" svc"),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    \n    "),a("span",{attrs:{class:"token comment"}},[t._v("// 論理パスに対応する処理（メソッド）")]),t._v("\n    "),a("span",{attrs:{class:"token annotation punctuation"}},[t._v("@GetMapping")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v('"/rewards/{id}"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{attrs:{class:"token keyword"}},[t._v("public")]),t._v(" String "),a("span",{attrs:{class:"token function"}},[t._v("show")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token annotation punctuation"}},[t._v("@PathVariable")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v('"id"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("long")]),t._v(" id"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" Model model"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        Reward reward "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" lookupService"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("lookupReward")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("id"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        model"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("addAttribute")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("“reward”"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" reward"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{attrs:{class:"token keyword"}},[t._v("return")]),t._v(" “rewardView”"),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"_3-viewresolverの設定"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-viewresolverの設定","aria-hidden":"true"}},[this._v("#")]),this._v(" 3. ViewResolverの設定")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("以下のように、ViewResolverを設定しておく。"),s("br"),this._v("\n以下、Spring Bootのドキュメントから抜粋。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[this._v("# THYMELEAF (ThymeleafAutoConfiguration)\nspring.thymeleaf.prefix=classpath:/templates/ # Prefix that gets prepended to view names when building a URL.\nspring.thymeleaf.suffix=.html                 # Suffix that gets appended to view names when building a URL.\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"_4-テンプレートviewの用意"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-テンプレートviewの用意","aria-hidden":"true"}},[this._v("#")]),this._v(" 4. テンプレートViewの用意")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"enablewebmvc"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#enablewebmvc","aria-hidden":"true"}},[this._v("#")]),this._v(" @EnableWebMvc")])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"tip custom-block"},[s("p",{staticClass:"custom-block-title"},[this._v("TIP")]),s("p",[this._v("@EnableXxxはSpringの特定の機能を有効化するものであり、Spring BootではAutoConfiguration用のクラスですべて定義済みである。"),s("br"),this._v("\nそのため、不用意に上記のアノテーションを付けてしまうと、Spring Bootが動かなくなる一因となる。")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"静的ファイルの扱い（画像データ、cssファイルなどなど）"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#静的ファイルの扱い（画像データ、cssファイルなどなど）","aria-hidden":"true"}},[this._v("#")]),this._v(" 静的ファイルの扱い（画像データ、CSSファイルなどなど）")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("テンプレートViewだと、"),s("code",[this._v("/src/main/resources/resources/templates")]),this._v("直下など使えるパスが決まっている。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"wip-積み残し課題-重要度低"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#wip-積み残し課題-重要度低","aria-hidden":"true"}},[this._v("#")]),this._v(" [WIP] 積み残し課題(重要度低)")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ul",[a("li",[t._v("What are some of the parameter types for a controller method?")]),a("li",[t._v("What other annotations might you use on a controller method parameter? (You can ignore form-handling annotations for this exam)")]),a("li",[t._v("What are some of the valid return types of a controller method?")]),a("li",[t._v("How is the right View chosen when it comes to the rendering phase?")]),a("li",[t._v("Why do you have access to the model in your View? Where does it come from?")]),a("li",[t._v("What is the purpose of the session scope?")]),a("li",[t._v("What is the default scope in the web context?")]),a("li",[t._v("Why are controllers testable artifacts?")])])}],e=a(0),r=Object(e.a)({},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"content"},[t._m(0),t._m(1),t._m(2),t._m(3),t._m(4),t._m(5),a("p",[t._v("サーバーサイドレンダリング（Viewの部分）として以下のものをサポートしている（他にもある）。")]),t._m(6),t._m(7),a("p",[t._v("SpringにおけるDispatcher Servletとは、すべてのRequestを受け取り、Controllerに処理を振り分ける役割をしている（Front Controllerとも呼ばれる）。")]),t._m(8),a("p",[t._v("Dispatcher Servletクラスは、受け取ったRequestをもとに各Controller（ビジネスロジック）に処理を割り振り、Modelを受け取る。\n受け取ったModelをもとに、View（JSPやThymeLeafなど）をサーバーサイドでレンダリングし、Responseとして返す。")]),a("p",[t._v("このように、SpringではWeb Layerをできるだけ薄くし、関心事（ビジネスロジックとViewのレンダリング）の分離を行っている。")]),t._m(9),t._m(10),a("p",[t._v("WebApplicationContextはApplicationContextを継承したクラスであり、")]),t._m(11),a("p",[t._v("がサポートされている。")]),a("p",[t._v("DispatcherServletによってWebApplicationContext（ViewResolver、View、Controllerインスタンスを含む）が呼び出される。")]),t._m(12),a("p",[t._v("Spring Bootでは設定済みのDispacherServletが使われるので、開発者側で独自に用意する必要はない。")]),t._m(13),a("p",[a("a",{attrs:{href:"https://docs.spring.io/spring/docs/5.0.7.RELEASE/spring-framework-reference/web.html#mvc-servlet-context-hierarchy",target:"_blank",rel:"noopener noreferrer"}},[t._v("Spring Web MVC - 1.2.1. Context Hierarchy"),a("OutboundLink")],1),a("br"),a("a",{attrs:{href:"https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/servlet/DispatcherServlet.html#DispatcherServlet-org.springframework.web.context.WebApplicationContext-",target:"_blank",rel:"noopener noreferrer"}},[t._v("org.springframework.web.servlet - Class DispatcherServlet"),a("OutboundLink")],1),a("br"),a("a",{attrs:{href:"https://stackoverflow.com/questions/11708967/what-is-the-difference-between-applicationcontext-and-webapplicationcontext-in-s",target:"_blank",rel:"noopener noreferrer"}},[t._v("What is the difference between ApplicationContext and WebApplicationContext in Spring MVC?"),a("OutboundLink")],1)]),t._m(14),t._m(15),t._m(16),t._m(17),a("p",[t._v("Dispatcher Servletが受け取ったRequestを論理パスをもとに、処理を特定のメソッドに振り分けてくれる。")]),t._m(18),t._m(19),t._m(20),t._m(21),t._m(22),t._m(23),a("p",[t._v("@RequestMappingを使ってURLと処理（メソッド）の紐づけをする場合、GET、POST、PUT、DELETEのいずれかを指定する必要があった。")]),t._m(24),t._m(25),t._m(26),t._m(27),t._m(28),t._m(29),t._m(30),t._m(31),t._m(32),t._m(33),t._m(34),t._m(35),t._m(36),t._m(37),a("p",[t._v("注意点として、コンパイル時に、")]),t._m(38),t._m(39),a("p",[t._v("ちなみに、Spring Bootではデフォルトで上記の設定になっているので、気にする必要がない。")]),t._m(40),t._m(41),t._m(42),t._m(43),t._m(44),t._m(45),t._m(46),t._m(47),t._m(48),t._m(49),a("p",[t._v("Viewとは、Webブラウザに出力するHTMLをレンダリングする部分。")]),a("p",[t._v("Spring MVCがサポートするViewは以下の通り。")]),t._m(50),t._m(51),t._m(52),t._m(53),t._m(54),a("p",[t._v("View Resolverインターフェースは、テンプレートエンジンに合わせて用意されている。\n論理パスを完全なパスに置換して、DispatcherServletに返す役割を担う。")]),t._m(55),t._m(56),a("p",[t._v("@xxxMapingアノテーションで指定した論理パスを、ViewResolverが以下のような完全なパスに置換する。")]),t._m(57),t._m(58),t._m(59),t._m(60),t._m(61),t._m(62),t._m(63),a("p",[t._v("デフォルトでTomcatサーバが組み込まれているが、他のものに変更したい場合は以下のように設定する（Jettyに変える場合）。")]),t._m(64),a("p",[t._v("fat JARをビルドするのに、以下の設定も必要。")]),t._m(65),t._m(66),t._m(67),t._m(68),t._m(69),t._m(70),t._m(71),a("p",[t._v("テンプレートエンジンによるので割愛。")]),t._m(72),a("p",[t._v("Spring Bootを使っていない場合、このアノテーションを付けてSpring MVCの設定を行う。")]),t._m(73),t._m(74),t._m(75),t._m(76),t._m(77)])},n,!1,null,null,null);s.default=r.exports}}]);